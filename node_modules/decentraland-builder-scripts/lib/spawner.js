"use strict";
/// <reference path="./types.d.ts" />
Object.defineProperty(exports, "__esModule", { value: true });
var channel_1 = require("./channel");
var inventory_1 = require("./inventory");
var bus = new MessageBus();
var Spawner = /** @class */ (function () {
    function Spawner(script) {
        var inventory = inventory_1.createInventory(UICanvas, UIContainerStack, UIImage);
        script.init({ inventory: inventory });
        this.script = script;
    }
    Spawner.prototype.spawn = function (name, transform, props) {
        if (transform === void 0) { transform = new Transform({ position: new Vector3(8, 0, 8) }); }
        var host = new Entity(name);
        host.addComponent(transform);
        engine.addEntity(host);
        var channel = channel_1.createChannel('channel-id', host, bus);
        this.script.spawn(host, props || {}, channel);
    };
    return Spawner;
}());
exports.Spawner = Spawner;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Bhd25lci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zcGF3bmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQ0FBcUM7O0FBRXJDLHFDQUF5QztBQUN6Qyx5Q0FBNkM7QUFFN0MsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQTtBQUU1QjtJQUVFLGlCQUFZLE1BQWtCO1FBQzVCLElBQU0sU0FBUyxHQUFHLDJCQUFlLENBQUMsUUFBUSxFQUFFLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBQ3RFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxTQUFTLFdBQUEsRUFBRSxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7SUFDdEIsQ0FBQztJQUNELHVCQUFLLEdBQUwsVUFDRSxJQUFZLEVBQ1osU0FBd0UsRUFDeEUsS0FBUztRQURULDBCQUFBLEVBQUEsZ0JBQTJCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFHeEUsSUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDN0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUM1QixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3RCLElBQU0sT0FBTyxHQUFHLHVCQUFhLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUN0RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxJQUFLLEVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUFsQkQsSUFrQkM7QUFsQlksMEJBQU8iLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90eXBlcy5kLnRzXCIgLz5cblxuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbCB9IGZyb20gJy4vY2hhbm5lbCdcbmltcG9ydCB7IGNyZWF0ZUludmVudG9yeSB9IGZyb20gJy4vaW52ZW50b3J5J1xuXG5jb25zdCBidXMgPSBuZXcgTWVzc2FnZUJ1cygpXG5cbmV4cG9ydCBjbGFzcyBTcGF3bmVyPFQgZXh0ZW5kcyB7fT4ge1xuICBwcml2YXRlIHNjcmlwdDogSVNjcmlwdDxUPlxuICBjb25zdHJ1Y3RvcihzY3JpcHQ6IElTY3JpcHQ8VD4pIHtcbiAgICBjb25zdCBpbnZlbnRvcnkgPSBjcmVhdGVJbnZlbnRvcnkoVUlDYW52YXMsIFVJQ29udGFpbmVyU3RhY2ssIFVJSW1hZ2UpXG4gICAgc2NyaXB0LmluaXQoeyBpbnZlbnRvcnkgfSlcbiAgICB0aGlzLnNjcmlwdCA9IHNjcmlwdFxuICB9XG4gIHNwYXduKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoOCwgMCwgOCkgfSksXG4gICAgcHJvcHM/OiBUXG4gICkge1xuICAgIGNvbnN0IGhvc3QgPSBuZXcgRW50aXR5KG5hbWUpXG4gICAgaG9zdC5hZGRDb21wb25lbnQodHJhbnNmb3JtKVxuICAgIGVuZ2luZS5hZGRFbnRpdHkoaG9zdClcbiAgICBjb25zdCBjaGFubmVsID0gY3JlYXRlQ2hhbm5lbCgnY2hhbm5lbC1pZCcsIGhvc3QsIGJ1cylcbiAgICB0aGlzLnNjcmlwdC5zcGF3bihob3N0LCBwcm9wcyB8fCAoe30gYXMgYW55KSwgY2hhbm5lbClcbiAgfVxufVxuIl19